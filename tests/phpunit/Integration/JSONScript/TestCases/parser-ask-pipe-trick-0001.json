{
	"description": "Test #ask with pipe trick output (#3945)",
	"setup": [
		{
			"page": "Page0 (parenthesis)",
			"namespace": "NS_MAIN",
			"contents": "[[Category:PA0001]]"
		},
		{
			"page": "Yours, Mine and Ours (1968 film)",
			"namespace": "NS_MAIN",
			"contents": "[[Category:PA0001]] [[Has page::Il Buono, il Brutto, il Cattivo]]"
		},
		{
			"page": "PA0001/Q.1",
			"namespace": "NS_MAIN",
			"contents": "{{#ask: [[Category:PA0001]] }}"
		},
		{
			"page": "PA0001/Q.2",
			"namespace": "NS_MAIN",
			"contents": "{{#ask: [[Category:PA0001]] |?Has page }}"
		}
	],
	"tests": [
		{
			"type": "parser",
			"about": "#0 (parenthetical page titles stripped as per pipe trick)",
			"subject": "PA0001/Q.1",
			"assert-output": {
				"to-contain": [
					">Page0<"
				],
				"not-contain": [
					">Page0 (parenthesis)<"
				]
			}
		},
		{
			"type": "parser",
			"about": "#1 (pipe trick on subject and printout)",
			"subject": "PA0001/Q.2",
			"assert-output": {
				"to-contain": [
					">Yours, Mine and Ours<",
					">Il Buono<"
				],
				"not-contain": [
					">Yours, Mine and Ours (1968 film)<",
					">Il Buono, il Brutto, il Cattivo<"
				]
			}
		}
	],
	"settings": {
		"wgContLang": "en",
		"wgLang": "en",
		"smwgPageSpecialProperties": [
			"_MDAT"
		],
		"smwgDVFeatures": [
			"SMW_DV_WPV_PIPETRICK"
		]
	},
	"meta": {
		"version": "2",
		"is-incomplete": false,
		"debug": false
	}
}
